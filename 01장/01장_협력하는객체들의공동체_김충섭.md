# 1.협력하는 객체들의 공동체

> 시너지를 생각하라. 전체는 부분의 합보다 크다 -스티븐 코비

- 객체지향을 실세계의 모방으로 보는 관점은 객체지향의 기본 사상과 학습할 때 유용하다.
- 하지만, 이러한 관점은 실제로는 객체지향적 분석과 설계를 방해한다.
- 예를들어 실세계의 방화벽은 건물 사이에서 불을 막지만 컴퓨터 안에서는 네트워크 침입을 막는다.
- 따라서 객체지향의 목표는 현실세계의 모방이 아니라 **새로운 세계를 창조**하는 것이다.


## 1.1협력하는 사람들

- 객체지향에서 가장 중요한 3가지 개념: 역할 + 책임 + 협력

### - 커피공화국의 아침

- 커피 한 잔을 주문하는 작은 이벤트에도 여러 사람의 조율과 조화가 필요하다.
- 커피를 주문하고 제조하는 과정 = 역할 + 책임 + 협력
- 역할
    - 손님
    - 캐시어
    - 바리스타
- 책임
    - 주문하기
    - 커피를 받아 일자리로 돌아가기
    - 주문받기
    - 커피가 준비된 사실을 알리기
    - 제조하기
- 협력
    - 커피 주문

### - 요청과 응답으로 구성된 협력

<img width="471" alt="image" src="https://user-images.githubusercontent.com/49191949/170855959-22bffc80-1613-46ed-86e6-cb6232f9a853.png">

- 일상에서 발생하는 대부분의 문제는 혼자의 힘으로 해결할 수 없을만큼 복잡하다.
- 그래서 서비스를 제공해줄 수 있는 사람에게 도움을 요청(Request)한다.
- 일반적으로 하나의 문제를 해결하기 위해 다수의 사람이 필요하기 때문에 한 사람의 요청이 또 다른 사람에 대한 요청을 발생시킨다.
    - 예를들어 손님의 요청(커피를 주문한다)을 받은 캐시어가 바리스타에게 또 다른 요청(커피를 제조해라)을 만든다.
- 인간은 요청과 응답으로 이루어진 협력을 통해 큰 문제를 해결할 수 있다.

### - 역할과 책임

- 사람들은 협력하는 과정 속에서 역할(Role)을 부여받는다.
- 역할 안에는 책임(Responsibility)이 있다.
    - 예를들어 선생님의 역할을 한다면, 학생들을 올바른 성장시킬 책임을 가진다.
- 여러 사람이 동일한 역할을 수행할 수 있다.
    - 꼭 한 사람이 한 역할을 할 필요는 없다.
- 역할을 대체가능성을 의미한다.
- 책임을 수행하는 방법은 자율적으로 선택할 수 있다.
    - 커리 제조를 요청받은 바리스타는 자신만의 독특한 방법으로 커피를 제조할 수 있다.
    - 중요한 점은 동일한 요청을 받더라도 바리스타의 역할을 수행하는 사람들마다 서로 다른 방식으로 요청을 처리할 수 있다는 점이다. 즉 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력을 다형성(Polymorphism)이라고 한다.
- 한 사람이 동시에 여러 역할을 수행할 수 있다.
    - 예를들어 집에서는 아빠의 역할, 회사에서는 직원 역할을 하는 것처럼 말이다.

## 1.2 역할, 책임, 협력

### - 기능을 구현하기 위해 협력하는 객체들

- 사람 = 객체
- 요청 = 메세지
- 요청을 처리하는 방법 = 메서드

### - 역할과 책임을 수행하며 협력하는 객체들

- 객체의 역할은 사람의 역할과 유사하다.
- 여러 객체가 동일한 역할을 수행할 수 있다.
- 역할은 대체 가능성을 의미한다.
- 각 객체는 책임을 수행하는 방법을 자율적으로 선택할 수 있다.
- 하나의 객체가 동시에 여러 역할을 수행할 수 있다.

## 1.3 협력 속에 사는 객체

- 협력에 참여하는 주체: 객체
- 객체지향이라고 불리는 이유는 패러다임의 중심이 객체라는 점이다.
- 객체는 다음 2가지 덕목을 가져야 한다.
    1. 객체는 충분히 협력적이어야 한다. 즉 다른 객체의 요청에 충실히 귀 기울어야 한다.
    2. 객체는 충분히 자율적이어야 한다. 즉 자기 스스로의 원칙에 따라 어떤 일을 하거나 자기 스스로를 통제하여 절제해야 한다.


### - 상태와 행동을 함께 지닌 자율적인 객체

- 객체가 충분히 협력적이고 자율적이려면 상태와 행동을 가지고 있어야 한다.
- 객체의 자율성은 객체의 내부와 외부를 명확하게 구분하는 것에서 나온다.
- 객체가 자율적이다라는 것은 객체가 직접 자신의 상태를 관리하고 상태를 기반으로 스스로 판단하고 행동할 수 있음을 의미한다.
- 객체지향에서는 데이터와 프로세스를 객체라는 하나의 틀 안에 함께 묶으면서 객체의 자율성을 보장한다.

### - 협력과 메세지

- 현실 세계에서 협력하기 위해  말(talking)을 하거나 메모(글자) 등을 사용한다.
- 객체지향에서는 오직 한 가지 메세지(messsage)를 통해 협력한다.
- 예를들어 커피 제조 요청 - 메세지
- 메세지를 전송하는 객체: sender(송신자)
- 메세지를 수신하는 객체: receiver(수신자)

### - 메서드와 자율성

- 수신자는 메세지를 받은 후 미리 정해진 자신만의 방법으로 메세지를 처리한다.
- 이처럼 객체가 메세지를 처리하는 방법을 메서드(method)라 한다.
- 커피 제조 요청 - 메세지
- 커피를 제조하는 구체적인 방법 - 메서드
- 객체의 자율성을 높이려면 외부의 요청이 무엇인지를 표현하는 메세지와 요청을 처리하기 위한 구체적인 방법인 메서드를 분리해야 한다.

## 1.4 객체지향의 본질

- 그래서 객체지향 무엇인가?
    - 자율적인 객체들을 이용하여 프로그램을 만드는 것
- 자율적인 객체란 무엇인가?
    - 상태와 행위를 가지며 스스로 행위를 결정하고 책임을 지는 객체를 말한다.
- 객체는 시스템의 기능을 만들기 위해 다른 객체와 협력한다. 그리고 협력 안에서 역할을 부여받고 역할에 맞는 책임을 가진다.
- 객체는 어떻게 협력하나?
    - 객체는 서로 다른 객체와 소통하기 위해 메세지를 사용한다. 그리고 메세지를 수신한 객체는 메세지를 처리하기 위해 적합한 메서드를 선택한다.

### - 객체를 지향하라

- 클래스 중점적으로 생각하기 보다 메세지를 주고 받는 객체의 관점으로 생각하자
- 핵심은 클래스가 아니라 적절한 책임을 수행하는 역할 간의 유연하고 견고한 협력 관계를 구축하는 것이다.

