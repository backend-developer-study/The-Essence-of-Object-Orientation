# 3.타입과 추상화
> 일단 컴퓨터를 조작하는 것이 추상화를 구축하고, 조작하고, 추론하는 것에 관한
> 모든 것이라는 것을 깨닫고 나면 훌륭한 컴퓨터 프로그램을 작성하기 위한 중요한 전제 조건은
> 추상화를 정확하게 다루는 능력이라는 것이 명확 해진다 - 키스 데블린



- 추상화가 잘 안된 초기 지하철 노선도
  - 사실적
  - 관련없는 사실들  ex. 구불구불한 노선, 실제 거리 
  - 제대로된 추상화라 할 수 없다.
  - 정확성 > 목적
  - 이해하기 어려움

  
<img width="977" alt="image" src="https://user-images.githubusercontent.com/49191949/171553309-3e3241f1-e38e-4df3-9ff4-63e9625e87e6.png">

> 지하철을 이용하는 승객의 목적은 하나의 역에서 다른 역으로 이동하는 것이다.
> 구불구불한지 실제 거리가 얼마인지 승객은 관심이 없다.

- 추상화가 잘된 후기 지하철 노선도
  - 추상적
  - 관련있는 정보
  - 제대로된 추상화
  - 정확성 < 목적(연결, 열차 갈아타기)
  - 이해하기 쉬움

<img width="968" alt="image" src="https://user-images.githubusercontent.com/49191949/171553491-aefcfc00-8fcf-41c8-aa50-80ce53d23d5e.png">

## 1 추상화를 통한 복잡성 극복

- 추상화: 불필요한 특징은 제거하고 목적에 맞는 필요한 특징만 남기는 것.
- 어떠한 것을 추상화 함으로써 복잡도를 낮을 수 있다.
- 추상화 단계
  1. 구체적인 사물들 간의 공통점은 취하고 차이점은 버린다.(일반화)
  2. 불필요한 세부사항을 제거한다.(단순화)


## 2 객체지향과 추상화

### 2.1 모두 트럼프일 뿐
- 등장하는 수 많은 객체들 --> 제각기 독특한 모습
    - 하트 여왕
    - 정원사
    - 클러버 병사
    - 신하들
    - 공주
    - 왕자
    - 하객
    - 왕비
- 모두다 트럼프다. --> 차이점 무시하고 공통점만 바라보면 트럼프일뿐

### 2.2 그룹으로 나누어 단순화하기(=복잡성 낮추기)

- 정원사, 병사, 신하, 왕자와 공주, 하객, 왕, 여왕, 하트, 토끼
- 트럼프와 토끼 두 그룹으로 보기.


### 2.3 개념

- 현실: 수많은 객체 때문에 복잡도가 높아 문제를 해결하기 힘들다.
- 해결: 추상화, 단순화 등을 이용해서 복잡도를 낮추어 문제를 해결한다.
- 개념(concept): 
  - 공통점을 기반으로 객체들을 묶는 그릇(또는 생각)
  - 공통점을 기반으로 객체를 분류해주는 체
- 예를들면 '트럼프'라는 개념

### 2.4 개념의 세 가지 관점
- 개념은 특정한 객체가 어떤 그룹에 속할지 결정한다.

1. 심볼(Symbol)
    - 개념명
    - 예를들어 트럼프
2. 내연(intension)
    - 개념의 정의
    - 예를들어 몸이 납작하고 두 손과 두발은 네모 귀퉁이에 달려있는 등장인물
3. 외연(extension)
    - 개념에 속하는 모든 객체 집합
    - 정원사, 병사, 신하, 왕자 공주


### 2.5 객체를 분류하기 위한 틀
- **분류**란 특정한 객체를 특정한 개념의 객체 집합에 포함시키거나 포함시키지 않는 작업을 의미한다.
- 객체에 특정한 개념을 적용한다 = 객체를 특정한 집합의 멤버로 분류하는 것
- 예를들어 정원사 객체에 '트럼프'라는 개념 적용 = 정원사는 트럼프라는 집합의 멤버다.

### 2.6 분류는 추상화를 위한 도구다.
- 개념을 통해 객체를 분류하는 과정은 추상화 1,2단계를 모두 하는 것.
- '개념' + '분류' 두 가지는 추상화를 하기 위한 도구

## 3 타입


### 3.1 타입은 개념이다.
- 개념(concept)을 컴퓨터 분야에서는 기본적으로 타입(type)이라고 부른다.
- 개념(concept) = 타입(type)
- 어떤 객체에 타입을 적용할 수 있을 때 그 객체를 타입의 인스턴스라한다.


### 3.2 데이터 타입
- 데이터 타입 있기 전
  - 메모리에 불려진 데이터에 타입이 없음
  - 메모리안 데이터에 의미가 없음
  - 문자열인지 숫자인지.. 모름
- 데이터 타입 생기고 난 이후
  - 데이터를 목적에 따라 분류
  - 혼란 방지



### 3.3 객체와 타입
- 객체는 행위에 따라 변할 수 있는 상태를 가진다
- 객체는 데이터가 아니다
- 객체에서 중요한 것은 행위다
- 객체의 타입
  - 어떤 객체가 어떤 타입에 속하는지 결정하는 것은 객체가 수행하는 행동을 본다.
  - 객체의 내부적인 표현은 외부로부터 철저히 감춰진다.


### 3.4 행동이 우선이다
- 결론적으로 객체의 타입을 결정하는 것은 객체의 행동뿐이다.
- 같은 타입에 속한 객체는 행동만 동일하다면 서로 다른 데이터를 가질 수 있다.
- 동일한 행동 = 동일한 책임 = 동일한 메세지(요청) 수신
- 다만 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있고 이를 다형성이라함.


## 4 타입의 계층


### 4.1 트럼프 계층
- 병사, 신하, 정원사 등.. 정말 트럼프야..? 더 정확히는 '트럼프 인간'
- 객체가 동일한 타입으로 분류되기 위해서는 공통의 행동을 가져야 한다.
- '트럼프' 타입: 납작업드릴 수 있고 뒤집어질 수 있음
- '트럼프 인간' 타입: '트럼프' 타입 성질 + 더 특화된 행동
- 두 타입은 일반화/특수화(generralization/specialization) 관계

### 4.2 일반화/특수화 관계
- 타입과 타입 사이에는 일반화/특수화 관계가 존재할 수 있다.
- 일반적 타입은 특수한 타입보다 더 적은 행동을 가지고 특수한 타입은 더 많은 수의 행동을 가진다.

### 4.3 슈퍼타입과 서브타입
- 슈퍼타입(Supertype): 일반적인 타입
- 서브타입(Subtype): 더 특수한 타입
- 중요한 것은 두 타입간 관계가 행동에 의해 결정된다는 것.

<img width="246" alt="image" src="https://user-images.githubusercontent.com/49191949/171565328-8a0bdd06-4f8e-44c3-897d-73421578122b.png">

### 4.4일반화는 추상화를 위한 도구다

- 아까도 봤지만 추상화 과정 1단계는 일반화였다. 
- 따라서, 일반화는 추상화 도구 맞음
- 엘리스의 병사, 정원사를 '트럼프일뿐'라고 말한 것 --> 일반화
- 더 정확히는 '트럼프 인간'이지만  '트럼프'라고 한 것 --> 단순화

## 5 정적 모델


### 5.1 타입의 목적
- "왜 타입을 사용해야 할까?" "객체지향이니깐 객체만 쓰면 안돼??"
- 타입을 사용하는 이유
  - 인간의 인지 능력으로 시간에따라 동적으로 변하는 객체의 복잡성을 극복하기 어렵기 때문.
- 타입은 앨리스의 상태에 복잡성을 부과하는 시간이라는 요소를 제거함으로써 시간에 독립적인 정적인 모습으로 앨리스를 생각하게 도와준다.
- 시간이 지남에 따라 앨리스 키는 100cm,80cm, 180cm, 240cm 등.. 계속 변함
- `int 키`라는 타입을 두어 정적인 모습으로 다룰 수 있음

### 5.2 그래서 결국 타입은 추상화다.
- 위 말대로라면 타입은 추상화다.
- 왜냐하면 추상화는 불필요한 요소를 제거하는 것인데
- 엘리스에 관해 생각할 때 시간이라는 요소와 상태 변화라는 요소를 제거하고 철저히 정적인 관점에서 엘리스를 묘사할 수 있기 때문이다.
- 그러므로 타입은 추상화다. 타입을 이용하면 객체의 동적인 특성을 추상화할 수 있다.

### 5.3 동적 모델과 정적 모델
- 동적모델(dynamic model): 객체가 살아 움직이는 동안 상태가 어떻게 변하고 어떻게 행동하는지 포착하는 것
- 정적모델(static model, 타입모델,type diagram): 객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현하는 것

### 5.4 클래스
- '타입을 구현한다'라는 말
- 클래스와 타입은 다르다.
- 타입은 객체를 분류하기 위한 개념
- 클래스는 타입을 구현할 수 있는 여러 구현 방법 중 하나
  - 실제로 자바스크립트는 객체가 있지만 클래스가 없음.
- 클래스는 타입 구현 목적 + 코드 재사용 목적 등이 더 있음
- 결론
  - 객체를 분류하는 기준은 타입이다.
  - 타입을 나누는 기준은 객체가 수행하는 행동으로 결정된다.
  - 동적으로 변하는 객체의 '상태'
  - 상태를 변경하는 '행위'